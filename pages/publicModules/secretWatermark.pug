mixin renderSecretWatermarkStyle(secretWatermarkUrl)
  if secretWatermarkUrl
    -
      // 参数与默认值
      var height = 100;
      var width = 200;
      var opacity = 1;  // 水印透明度(0~1)
      var rotate = 0;     // 旋转角度(度)
      // 为 SVG pattern 生成唯一 id，避免多次调用冲突
      var patternId = 'secret-wm-' + Math.random().toString(36).slice(2, 8);

      var secretWatermarkStyle = `
        /* 正常显示 */
        .secret-watermark{
          background-image: url(${secretWatermarkUrl});
          background-repeat: repeat;
          -webkit-print-color-adjust: exact;
          print-color-adjust: exact;
        }

        /* 打印时显示 */
        @media screen {
          .secret-watermark-print{ display: none; }
        }
        @media print {
          .secret-watermark{ background: none !important; }
          .secret-watermark-print{
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 2147483647;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }
          body{
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }
        }
      `;
    style=secretWatermarkStyle
    .secret-watermark-print(aria-hidden="true", role="presentation")
      svg(xmlns="http://www.w3.org/2000/svg", width="100%", height="100%")
        defs
          pattern(id=patternId, patternUnits="userSpaceOnUse", width=width, height=height, patternTransform=`rotate(${rotate})`)
            //- 同时设置 href 与 xlink:href 提高兼容性
            image(x=0, y=0, width=width, height=height, opacity=opacity, preserveAspectRatio="xMidYMid slice", href=secretWatermarkUrl, 'xlink:href'=secretWatermarkUrl)
        rect(width="100%", height="100%", fill=`url(#${patternId})`)