-
  var {column, from, type, post, thread, article, mainCategories, columnId, toc} = columnPost
  var coverUrl = '';
  var firstPost = thread? thread.firstPost: null;
  if(thread && thread.firstPost && thread.firstPost.cover) {
    coverUrl = thread.firstPost.coverUrl;
  } else if(article && article.document && article.document.cover) {
    coverUrl = article.document.coverUrl;
  }
  var title = '';
  var url = '';
  if (post && post.url) {
    title = firstPost.t;
    url = post.url;
  } else if (article) {
    title = article.document? article.document.title: '';
    url = article.url;
  }
  var abstract = '';
  if (type === 'thread') {
    abstract = post.c
  } else if(type === 'article') {
    abstract = article.document? article.document.content: '';
  }

.column-posts-post
  if type === 'thread'
    if thread.disabled
      .thread-disabled-info 文章已被封禁
    else if thread.recycleMark
      .thread-draft-info 文章已被退修
    else if !thread.reviewed
      .thread-review-info 文章未审核
  else if type === 'article'
    if article.status === 'unknown'
      .thread-review-info 文章未审核
    else if article.status === 'disabled'
      .thread-disabled-info 文章已被封禁
    else if article.status === 'faulty'
      .thread-draft-info 文章已被退修
    else if article.status === 'deleted'
      .thread-deleted-info 文章已被删除
  .column-post-body(class=coverUrl? "cover": "")
    .column-post-title.mb-2(class='sm:!hidden')
      a(href=url class="text-[1.4rem] sm:text-[1.6rem]")=title
    .column-post-cover
      if coverUrl 
        div(style=`background-image:url(${coverUrl})` class="w-[9rem] h-[6rem] sm:w-[14rem] sm:h-[10rem]")
    .column-post-abstract
      .column-post-title.mb-2(class='hidden sm:!block')
        a(href=url class="text-[1.4rem] sm:text-[1.6rem]")=title
      .column-post-content= abstract  
      .column-post-info
        if type === 'thread'
          if !thread.firstPost.anonymous
            a(href=`/u/${thread.firstPost.uid}` target="_blank"
              data-global-mouseover="showUserPanel"
              data-global-mouseout="hideUserPanel"
              data-global-data=objToStr({uid: thread.firstPost.uid})
            ).column-post-author
              img(src=thread.firstPost.user.avatarUrl)
              span=thread.firstPost.user.username
          else
            span.column-post-author
              img(src=anonymousInfo.avatar)
              span.anonymous-name=anonymousInfo.username
        else if type === 'article'
          a(href=`/u/${article.user.uid}` target="_blank"
            data-global-mouseover="showUserPanel"
            data-global-mouseout="hideUserPanel"
            data-global-data=objToStr({uid: article.user.uid})
          ).column-post-author
            img(src=article.user.avatarUrl)
            span=article.user.username
        .column-post-time
          span.m-r-05
            //-=fromNow(toc)
            +fromNow(toc)
          if data.column && from === "contribute"
            span 来自投稿
          else if type === 'thread' || type === 'post'
            span 链接自论坛
          else if type === 'article' && article.source === 'zone'
            span 来自电波
        .column-post-forums
          if data.column
            -var category = "";
            for c in mainCategories
              if !category || category.level > c.level
                -category = c;
            if category
              a.column-post-forum(href=`/m/${columnId}?c=${category._id}`)= category.name
          else
            a.column-post-forum(href=`/m/${columnId}`)= column.name
